(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__25Koy"}},12:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2IP4P"}},13:function(e,t,n){e.exports={Button:"Button_Button__2UDfg"}},19:function(e,t,n){},20:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),i=(n(19),n(10)),l=n(3),u=(n(20),n(11)),s=n.n(u),m=n(1);var j=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:s.a.Searchbar,children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"SearchForm-input",type:"text",name:"text",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})},b=n(12),f=n.n(b),g=n(8),h=n.n(g);var d=function(e){var t=e.imageUrl,n=e.onClick;return Object(m.jsx)("li",{className:h.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:"",className:h.a.ImageGalleryItemImage,onClick:n})})};var O=function(e){var t=e.images,n=e.onImgClick;return Object(a.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[t]),Object(m.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(d,{imageUrl:e.webformatURL,onClick:n},e.id)}))})},p=n(13),v=n.n(p);var x=function(e){var t=e.onClick;return e.images.length>0?Object(m.jsx)("button",{className:v.a.Button,type:"button",onClick:t,children:"Load more"}):null},y=n(9),I=n.n(y),_=document.querySelector("#modal-root");var S=function(e){var t=e.toggleModal,n=e.image;function c(e){"Escape"===e.code&&t()}return Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}),[]),Object(r.createPortal)(Object(m.jsx)("div",{className:I.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(m.jsx)("div",{className:I.a.Modal,children:Object(m.jsx)("img",{src:n,alt:""})})}),_)},k=n(14),w=n.n(k);var C=function(){return Object(m.jsx)(w.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})};var N=function(e,t,n,a){return fetch("".concat(e,"/?q=").concat(t,"&page=").concat(n,"&key=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12"))},F="https://pixabay.com/api",G="22330011-89d1f89aeaa9d6f980eea326f";var E=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),u=o[0],s=o[1],b=Object(a.useState)(!1),f=Object(l.a)(b,2),g=f[0],h=f[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),v=p[0],y=p[1],I=Object(a.useState)(""),_=Object(l.a)(I,2),k=_[0],w=_[1],E=Object(a.useRef)(0);return Object(a.useEffect)((function(){""!==n&&(h(!0),E.current=1,N(F,n,E.current,G).then((function(e){return e.json()})).then((function(e){s(e.hits)})).finally(h(!1)))}),[n]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j,{onSubmit:function(e){c(e.trim())}}),Object(m.jsx)(O,{images:u,onImgClick:function(e){var t=u.find((function(t){return t.webformatURL===e.target.getAttribute("src")}));w(t.largeImageURL),y(!0)}}),v&&Object(m.jsx)(S,{image:k,toggleModal:function(){y(!v)}}),g?Object(m.jsx)(C,{}):Object(m.jsx)(x,{onClick:function(){h(!0),E.current=E.current+1,N(F,n,E.current,G).then((function(e){return e.json()})).then((function(e){s([].concat(Object(i.a)(u),Object(i.a)(e.hits)))})).finally(h(!1))},images:u})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),B()},8:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__16BXE",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__25ceY"}},9:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3Nozb",Modal:"Modal_Modal__fHOdk"}}},[[42,1,2]]]);
//# sourceMappingURL=main.63772534.chunk.js.map