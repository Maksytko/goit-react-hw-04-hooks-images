(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__25Koy"}},12:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2IP4P"}},13:function(e,t,n){e.exports={Button:"Button_Button__2UDfg"}},23:function(e,t,n){},24:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(5),r=n.n(o),i=(n(23),n(10)),l=n(3),u=(n(24),n(11)),s=n.n(u),m=n(1);var j=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),o=c[0],r=c[1];return Object(m.jsx)("header",{className:s.a.Searchbar,children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"SearchForm-input",type:"text",name:"text",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.target.value)}})]})})},b=n(12),h=n.n(b),f=n(8),d=n.n(f);var g=function(e){var t=e.imageUrl,n=e.onClick;return Object(m.jsx)("li",{className:d.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:"",className:d.a.ImageGalleryItemImage,onClick:n})})};var O=function(e){var t=e.images,n=e.onImgClick;return Object(a.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[t]),Object(m.jsx)("ul",{className:h.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(g,{imageUrl:e.webformatURL,onClick:n},e.id)}))})},p=n(13),y=n.n(p);var v=function(e){var t=e.onClick;return e.images.length>0?Object(m.jsx)("button",{className:y.a.Button,type:"button",onClick:t,children:"Load more"}):null},x=n(14),I=n(15),k=n(18),_=n(17),S=n(9),w=n.n(S),C=document.querySelector("#modal-root"),N=function(e){Object(k.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleKeydown=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.toggleModal()},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(m.jsx)("div",{className:w.a.Overlay,onClick:this.handleBackdropClick,children:Object(m.jsx)("div",{className:w.a.Modal,children:Object(m.jsx)("img",{src:this.props.image,alt:""})})}),C)}}]),n}(a.Component),F=n(16),G=n.n(F);var B=function(){return Object(m.jsx)(G.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})};var M=function(e,t,n,a){return fetch("".concat(e,"/?q=").concat(t,"&page=").concat(n,"&key=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12"))},E="https://pixabay.com/api",L="22330011-89d1f89aeaa9d6f980eea326f";var U=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),r=Object(l.a)(o,2),u=r[0],s=r[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),f=h[0],d=h[1],g=Object(a.useState)(!1),p=Object(l.a)(g,2),y=p[0],x=p[1],I=Object(a.useState)(""),k=Object(l.a)(I,2),_=k[0],S=k[1],w=Object(a.useRef)(0);return Object(a.useEffect)((function(){""!==n&&(d(!0),w.current=1,M(E,n,w.current,L).then((function(e){return e.json()})).then((function(e){s(e.hits)})).finally(d(!1)))}),[n]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j,{onSubmit:function(e){c(e.trim())}}),Object(m.jsx)(O,{images:u,onImgClick:function(e){var t=u.find((function(t){return t.webformatURL===e.target.getAttribute("src")}));S(t.largeImageURL),x(!0)}}),y&&Object(m.jsx)(N,{image:_,toggleModal:function(){x(!y)}}),f?Object(m.jsx)(B,{}):Object(m.jsx)(v,{onClick:function(){d(!0),w.current=w.current+1,M(E,n,w.current,L).then((function(e){return e.json()})).then((function(e){s([].concat(Object(i.a)(u),Object(i.a)(e.hits)))})).finally(d(!1))},images:u})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root")),P()},8:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__16BXE",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__25ceY"}},9:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3Nozb",Modal:"Modal_Modal__fHOdk"}}},[[46,1,2]]]);
//# sourceMappingURL=main.3a656fd6.chunk.js.map